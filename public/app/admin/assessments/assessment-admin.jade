//- admin assessment assignment page
.container.top-padding-med
	.well.left-padding-lg.right-padding-lg
		legend Assessment Status Dashboard
		.pull-left
			.btn.btn-success(ng-click="newAssessmentDialog()" ng-show="identity.currentUser.isSupervisor()") Deploy Assessment
		.pull-right
			form.form-inline
				.form-group
					input.form-control(ng-model="searchText", placeholder="Filter")
				.form-group.margin-left-med
					select.form-control(ng-model="sortOrder", ng-options="item.value as item.text for item in sortOptions")

		table.table.table-hover
			thead
				tr
					th.col-med-2 Country
					th.col-med-1 Year
					th.col-med-1 Status
					th.col-med-1 Started
					th.col-med-2 Last Edit
					th.text-center.col-med-1(ng-show="identity.currentUser.isSupervisor()") Assign
					th.text-center.col-med-1 Start
					//th.text-center.col-med-1 Review
			tbody
				tr(ng-repeat="assessment in assessments | filter: searchText | orderBy:sortOrder")
					td.col-med-2(ng-if="assessment.status=='created'") {{assessment.country | ucfirst}}
					td.col-med-2(ng-if="assessment.status!='created'")
						a(href="admin/assessments-admin/{{assessment.assessment_ID}}") {{assessment.country}}
					td.col-med-1 {{assessment.year}}
					td.col-med-1 {{assessment.status | ucfirst}}
					td.col-med-1 {{assessment.start_date.started_date | date}}
					td.col-med-2(ng-if="assessment.edited_by")
						a(href="mailto:{{assessment.edited_by.email}}") {{assessment.edited_by.lastName}} 
						text - 
						span(ng-repeat="mod in assessment.modified")
							em(ng-show="$last") {{mod.modified_date | date}}
					td.col-med-2(ng-if="!assessment.edited_by")

					td.col-med-1(ng-show="identity.currentUser.isSupervisor()")
						button.btn.btn-col.btn-primary(ng-click="assignAssessmentDialog(assessment.assessment_ID)") Assign
					td.col-med-1
						button.btn.btn-col.btn-success(ng-click="assessmentStart(assessment.assessment_ID)" ng-if="assessment.status === 'created'") Start
						a.btn.btn-col.btn-success(href="admin/assessments-admin/{{assessment.assessment_ID}}" ng-if="assessment.status !== 'created'") Continue
